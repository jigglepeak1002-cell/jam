<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Bear Maze â€“ Final Stable</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background: black;
  touch-action: none;
}

#bg {
  position: fixed;
  inset: 0;
  background: url("assets/jungle.png") center / cover no-repeat;
  filter: blur(2px);
  z-index: 0;
}

canvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1;
}

#controls {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
}

button {
  width: 70px;
  height: 70px;
  font-size: 28px;
  margin: 4px;
  border-radius: 12px;
  border: none;
  background: #222;
  color: white;
}
button:active {
  background: #555;
}
</style>
</head>

<body>

<div id="bg"></div>
<canvas id="game"></canvas>

<div id="controls">
  <div style="text-align:center;">
    <button ontouchstart="move(0,-1)">â¬†</button>
  </div>
  <div>
    <button ontouchstart="move(-1,0)">â¬…</button>
    <button ontouchstart="move(0,1)">â¬‡</button>
    <button ontouchstart="move(1,0)">âž¡</button>
  </div>
</div>

<script>
/* ===== CANVAS ===== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight * 0.75;
}
resize();
window.addEventListener("resize", resize);

/* ===== MAZE SETTINGS ===== */
const GRID = 21;
const TILE = canvas.width / GRID;

/* 1 = wall, 0 = path, 2 = obstacle */
const maze = [
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
[1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1],
[1,1,1,0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1],
[1,0,0,0,0,0,0,2,1,0,0,0,0,0,1,0,0,0,0,0,1],
[1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1],
[1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1],
[1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1],
[1,0,0,1,0,0,0,2,0,0,1,0,0,0,0,0,1,0,0,0,1],
[1,0,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,1,1,0,1],
[1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1],
[1,1,1,1,1,1,0,1,0,1,1,1,1,0,1,1,1,1,1,0,1],
[1,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,1],
[1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,0,1],
[1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1],
[1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,1],
[1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,1],
[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1],
[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
];

const player = { x:1, y:1 };
const mother = { x:19, y:17 };

const bear = new Image();
bear.src = "assets/bear.png";
const mom = new Image();
mom.src = "assets/mother.png";

/* ===== DRAW ===== */
function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  for(let y=0;y<GRID;y++){
    for(let x=0;x<GRID;x++){
      if(maze[y][x]===1){
        ctx.fillStyle="#111";
        ctx.fillRect(x*TILE,y*TILE,TILE,TILE);
      }
      if(maze[y][x]===2){
        ctx.fillStyle="red";
        ctx.beginPath();
        ctx.arc(x*TILE+TILE/2,y*TILE+TILE/2,TILE/4,0,Math.PI*2);
        ctx.fill();
      }
    }
  }

  ctx.drawImage(bear, player.x*TILE, player.y*TILE, TILE*1.3, TILE*1.3);
  ctx.drawImage(mom, mother.x*TILE, mother.y*TILE, TILE*1.5, TILE*1.5);
}

function move(dx,dy){
  const nx=player.x+dx, ny=player.y+dy;
  if(maze[ny]?.[nx]===1)return;
  if(maze[ny]?.[nx]===2){ alert("ðŸ’¥ Failed"); location.reload(); }
  player.x=nx; player.y=ny;
  if(nx===mother.x && ny===mother.y){ alert("ðŸ» Reached Mother!"); location.reload(); }
  draw();
}

draw();
</script>

</body>
</html>